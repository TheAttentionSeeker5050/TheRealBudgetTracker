{% extends "parent.html" %}
{% load static %}


<!-- the title -->
{% block title %}
    <title>Entries log</title>
{% endblock %}

<!-- the main content -->
{% block content %}

<div class="my_log_container">
    <h1 class="display-4 display_mobile">Entries log</h1>

    <table class="table  table-striped table-hover table_log">
        
        <thead class="mobile_hidden">
          <tr>
            <th scope="col" class="small">Type</th>
            <th scope="col" class="small">Description</th>
            <th scope="col" class="mobile_hidden small">Category</th>
            <th scope="col" class="mobile_hidden small">Date</th>
            <th scope="col" class="small">Amount</th>
            <th scope="col" class="small">Options</th>
          </tr>
        </thead>
        <tbody>
        {% for entry in object_list %}

            <tr>
                <th scope="row">
                    <p class="bold small">{{entry.entry_type}}</p>
                    <p class="mobile_only small non_bold">{{entry.category}}</p>
                </th>
                <td>
                    <a href="/entries/edit/{{entry.id}}" class="bold black_link" style="text-decoration:none;">
                        <p class="small non_bold">{{entry.description}}</p>
                    </a>
                    <p class="mobile_only small non_bold"> {{entry.date}} </p>
                </td>
                <td class="mobile_hidden small non_bold">                
                    {{entry.category}}
                </td>
                <td class="mobile_hidden small non_bold">              
                    {{entry.date}}
                </td>
                <td class="small non_bold centered_vertically">              
                    {{entry.amount}}
                </td>
                <td>
                    <a href="{% url 'delete' entry.id %} ">
                        <img src="https://img.icons8.com/external-kiranshastry-solid-kiranshastry/30/000000/external-delete-multimedia-kiranshastry-solid-kiranshastry.png"/>
                    </a>
                    <a href=" {% url 'edit' entry.id %} ">
                        <img src="https://img.icons8.com/ios-glyphs/30/000000/edit--v4.png"/>
                    </a>
                </td>
            </tr>
        {% endfor %}
          
        </tbody>
    </table>

    <div class="month_change_container ">
        <div class="previous_month_button_container ">
            {% if month == 1 %}
                <a role="button" href="/entries/{{year|add:'-1'}}/12">
                    <button class="change_month_button"> << {{year|add:"-1"}} / 12</button>
                </a>
                
            {% else %}
                <a  role="button"  href="/entries/{{year}}/{{month|add:'-1'}}">
                    <button class="change_month_button"> << {{year}} / {{month|add:"-1"}} </button>
                </a>
            {% endif %}

        </div>

        <div class="next_month_button_container ">
            {% if month == 12 %}
                <a role="button"  href="/entries/{{year|add:'+1'}}/1">
                    <button class="change_month_button"> {{year|add:'1'}} / 1 >></button>
                </a>
            
            {% else %}
                <a  role="button"  href="/entries/{{year}}/{{month|add:+1}}">
                    <button class="change_month_button"> {{year}} {{month|add:"1"}} >> </button>
                </a>
            {% endif %}
        </div>

    </div>



</div>

    
{% endblock %}