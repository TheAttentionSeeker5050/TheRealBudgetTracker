{"ast":null,"code":"var _jsxFileName = \"/home/nicocaste/projects-web/budget-tracker1.1/TheRealBudgetTracker/BudgetTracker/frontend/src/Components/AppBody.js\";\nimport React, { useState } from \"react\";\nimport { EntriesLog, EntryItem } from './EntriesLog';\nimport { ChangeDateButtons } from \"./ChangeDateButtons\"; // the api rest framework\n\nimport axios from \"axios\"; // const entry_list = []\n\nfunction AppBody() {\n  const [entryList, setEntryList] = useState([]);\n  const [month, setMonth] = useState(\"\");\n  const [year, setYear] = useState(\"\");\n  React.useEffect(() => {\n    setInterval(() => {\n      axios.get(\"/api/entries/\").then(res => {\n        setEntryList(res.data);\n      }).then(res => console.log(\"rendering list\")).then(() => {\n        const date = new Date();\n        setMonth(date.getMonth());\n        setYear(date.getFullYear());\n        console.log(year, month);\n      }).catch(err => console.log(err));\n    }, 2000);\n  });\n  const date = new Date(); // console.log(date.getFullYear());\n  // console.log(date.getMonth());\n  // setMonth(date.getMonth())\n  // we get or refresh list\n\n  var startDate = \"2022-01-01\";\n  var endDate = \"2022-02-01\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ChangeDateButtons, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(EntriesLog, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, entryList.filter(function (list) {\n    return list.date >= startDate && list.date < endDate;\n  }).map(entry => /*#__PURE__*/React.createElement(EntryItem, {\n    entry_type: entry.entry_type,\n    description: entry.description,\n    category: entry.category,\n    date: entry.date,\n    amount: entry.amount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }))));\n}\n\nexport { AppBody };","map":{"version":3,"sources":["/home/nicocaste/projects-web/budget-tracker1.1/TheRealBudgetTracker/BudgetTracker/frontend/src/Components/AppBody.js"],"names":["React","useState","EntriesLog","EntryItem","ChangeDateButtons","axios","AppBody","entryList","setEntryList","month","setMonth","year","setYear","useEffect","setInterval","get","then","res","data","console","log","date","Date","getMonth","getFullYear","catch","err","startDate","endDate","filter","list","map","entry","entry_type","description","category","amount"],"mappings":";AAAA,OAAOA,KAAP,IAAiBC,QAAjB,QAAiC,OAAjC;AAEA,SAAQC,UAAR,EAAoBC,SAApB,QAAoC,cAApC;AACA,SAAQC,iBAAR,QAAgC,qBAAhC,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAIA;;AAIA,SAASC,OAAT,GAAmB;AAEjB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,EAAD,CAA1C;AACF,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AAEAD,EAAAA,KAAK,CAACa,SAAN,CAAiB,MAAM;AACrBC,IAAAA,WAAW,CAAC,MAAM;AAEhBT,MAAAA,KAAK,CACJU,GADD,CACK,eADL,EAECC,IAFD,CAEOC,GAAD,IAAS;AACbT,QAAAA,YAAY,CAACS,GAAG,CAACC,IAAL,CAAZ;AACD,OAJD,EAKCF,IALD,CAKOC,GAAD,IAAQE,OAAO,CAACC,GAAR,CAAY,gBAAZ,CALd,EAOCJ,IAPD,CAOM,MAAM;AACV,cAAMK,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACAZ,QAAAA,QAAQ,CAACW,IAAI,CAACE,QAAL,EAAD,CAAR;AACAX,QAAAA,OAAO,CAACS,IAAI,CAACG,WAAL,EAAD,CAAP;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ,EAAkBF,KAAlB;AACD,OAZD,EAaCgB,KAbD,CAaQC,GAAD,IAASP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAbhB;AAcD,KAhBU,EAgBR,IAhBQ,CAAX;AAiBC,GAlBH;AAsBA,QAAML,IAAI,GAAG,IAAIC,IAAJ,EAAb,CA5BmB,CA6BjB;AACA;AACF;AAIE;;AAGA,MAAIK,SAAS,GAAG,YAAhB;AACA,MAAIC,OAAO,GAAG,YAAd;AAQA,sBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGrB,SAAS,CACPsB,MADF,CACS,UAAUC,IAAV,EAAgB;AACtB,WAAOA,IAAI,CAACT,IAAL,IAAaM,SAAb,IAA2BG,IAAI,CAACT,IAAL,GAAYO,OAA9C;AACD,GAHF,EAIEG,GAJF,CAKIC,KAAD,iBACE,oBAAC,SAAD;AACE,IAAA,UAAU,EAAEA,KAAK,CAACC,UADpB;AAEE,IAAA,WAAW,EAAED,KAAK,CAACE,WAFrB;AAGE,IAAA,QAAQ,EAAEF,KAAK,CAACG,QAHlB;AAIE,IAAA,IAAI,EAAEH,KAAK,CAACX,IAJd;AAKE,IAAA,MAAM,EAAEW,KAAK,CAACI,MALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANL,CAFH,CAHF,CADF;AA0BD;;AAED,SAAQ9B,OAAR","sourcesContent":["import React,  { useState } from \"react\";\n\nimport {EntriesLog, EntryItem} from './EntriesLog';\nimport {ChangeDateButtons} from \"./ChangeDateButtons\";\n\n// the api rest framework\nimport axios from \"axios\";\n\n\n\n// const entry_list = []\n\n\n\nfunction AppBody() {\n\n  const [entryList, setEntryList] = useState([])\nconst [month, setMonth] = useState(\"\")\nconst [year, setYear] = useState(\"\")\n\nReact.useEffect( () => {\n  setInterval(() => {\n\n    axios\n    .get(\"/api/entries/\")\n    .then((res) => { \n      setEntryList(res.data)\n    })\n    .then((res)=> console.log(\"rendering list\"))\n\n    .then(() => {\n      const date = new Date();\n      setMonth(date.getMonth());\n      setYear(date.getFullYear())\n      console.log(year, month)\n    })\n    .catch((err) => console.log(err));\n  }, 2000)\n  })\n\n\n  \nconst date = new Date()\n  // console.log(date.getFullYear());\n  // console.log(date.getMonth());\n// setMonth(date.getMonth())\n\n  \n\n  // we get or refresh list\n  \n\n  var startDate = \"2022-01-01\"\n  var endDate = \"2022-02-01\"\n\n  \n  \n\n  \n\n\n  return (\n    <div className=\"app_body\">\n      <ChangeDateButtons/>\n\n      <EntriesLog>\n        \n        {entryList\n          .filter(function (list) {\n            return list.date >= startDate  && list.date < endDate\n          })\n          .map(\n            (entry) => (\n              <EntryItem\n                entry_type={entry.entry_type}\n                description={entry.description}\n                category={entry.category}\n                date={entry.date}\n                amount={entry.amount}\n              />\n          )\n        )}\n\n      </EntriesLog>\n    </div>\n  );\n\n}\n\nexport {AppBody};"]},"metadata":{},"sourceType":"module"}